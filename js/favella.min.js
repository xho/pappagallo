/**
 * favella v0.2.0 - 2015-11-12
 * https://github.com/batopa/favella
 *
 * Copyright (c) 2015 Alberto Pagliarini
 * Licensed under the MIT license
 */
"speechSynthesis"in window?!function(a){"use strict";var b=a.console.error,c=!1,d=[],e={voice:null,voiceURI:"native",volume:1,rate:1,pitch:0,lang:"en-US",onstart:function(a){},onend:function(a){},onerror:function(a){},onpause:function(a){},onboundary:function(a){},onmark:function(a){}},f=!0,g=!1,h=[],i={setup:function(a){a&&(a.parentalControl&&(c=a.parentalControl),a.curses&&(d=a.curses),a.mute&&(a.mute===!0||"console"==a.mute)&&this.mute(a.mute),a.speakOptions&&Object.keys(e).forEach(function(b){a.speakOptions[b]&&(e[b]=a.speakOptions[b])}))},mute:function(a){a&&"console"==a?(g=!0,console.log("console.error muted")):(f=!1,console.log("Ho perso la favella (I lost the power of speech)!"))},unmute:function(){f?g&&console.log("console.error unmuted"):console.log("Ho riacquistato la favella (I recover the power of speech)!"),f=!0,g=!1},isMute:function(a){return a&&"console"==a?g:!f},getVoice:function(a){var b=null,c=this.getVoices();return c.length&&(c.forEach(function(c){c.lang==a&&(b=c)}),b||(console.log("Sorry, "+a+" is not supported. Fallback to en-US."),b=this.getVoice("en-US"))),b},speak:function(b,c){if(!f)return!1;b&&"string"==typeof b||(b="Something goes wrong"),c=c||{},Object.keys(e).forEach(function(a){c[a]||(c[a]=e[a])});var d=new SpeechSynthesisUtterance;this.getVoices();d.voice=this.getVoice(c.lang),console.log("Voice selected: "+d.voice.name),d.voiceURI=d.voice.voiceURI,d.volume=c.volume,d.rate=c.rate,d.pitch=c.pitch,d.lang=d.voice.lang,d.text=b,["onstart","onend","onerror","onboundary","onmark"].forEach(function(a){c[a]&&"function"==typeof c[a]&&(d[a]=c[a])}),a.speechSynthesis.speak(d)},getVoices:function(b){return(!h.length||b)&&(h=a.speechSynthesis.getVoices()),h},pause:function(){a.speechSynthesis.pause()},resume:function(){a.speechSynthesis.resume()},cancel:function(){a.speechSynthesis.cancel()},isSpeaking:function(){return a.speechSynthesis.speaking},isPending:function(){return a.speechSynthesis.pending},isPaused:function(){return a.speechSynthesis.paused},me:function(a){var b=a?"en-US":"it-IT",c=this.getVoice(b);if(c){var d=[];"it-IT"==c.lang?d.push("favella"):d=["Sorry, I cannot pronunce properly because missing italian voice. I will try anyway.","favella.","Shit!"];var e=this;d.forEach(function(a){e.speak(a,{volume:1,rate:1,pitch:0,lang:c.lang})})}else console.log("Missing voice :(")}};a.speechSynthesis.speaking&&a.speechSynthesis.cancel(),a.speechSynthesis.onvoiceschanged=function(){i.getVoices(!0)},a.console.error=function(){if(!i.isMute("console")){var e=Array.prototype.slice.call(arguments),f=e[0];!c&&d.length&&(f+=". "+d[Math.floor(Math.random()*d.length)]+"!"),i.speak(f)}b.apply(a.console,arguments)},"undefined"!=typeof module&&module.exports?module.exports=i:a.Favella=i}(window):console.log("Sorry, speechSynthesis is not supported on this browser");
//# sourceMappingURL=favella.min.js.map